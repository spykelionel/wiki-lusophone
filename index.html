<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Spyke Lionel - Task 1</title>
    <style>.block { background-color:gainsboro; padding:1em; } </style>
  </head>
  <body>
    <h1>Spyke Lionel - Task 1</h1>
    <h2>My code:</h2>
    <p id="code" class="block"></p>
    <h2>Results of my code:</h2>
    <p id="results" class="block"></p>
    <script id="task_id">
      // {# INPUT #}
      let data = [
        {"page_id": 6682420, "creation_date": "2021-09-13", "title": "André Baniwa"},
        {"page_id": 4246775, "creation_date": "2013-12-10", "title": "Benki Piyãko"},
        {"page_id": 5882073, "creation_date": "2018-12-03", "title": "Célia Xakriabá"},
        {"page_id": 6977673, "creation_date": "2022-10-05", "title": "Chirley Pankará"},
        {"page_id": 7069044, "creation_date": "2023-02-16", "title": "Cristine Takuá"},
        {"page_id": 2119511, "creation_date": "2009-01-28", "title": "Eliane Potiguara"},
        {"page_id": 6714407, "creation_date": "2021-10-09", "title": "Jaider Esbell"},
        {"page_id": 6977117, "creation_date": "2022-10-04", "title": "Jerônimo Rodrigues"},
        {"page_id": 6935831, "creation_date": "2022-08-02", "title": "Nanblá Gakran"},
        {"page_id": 4908665, "creation_date": "2015-11-13", "title": "Sônia Guajajara"},
        {"page_id": 5886895, "creation_date": "2018-12-12", "title": "Vãngri Kaingáng"},
        {"page_id": 6549130, "creation_date": "2021-04-10", "title": "Zezico Guajajara"},
      ];
    </script>
    <script>
      // Wait for the DOM to be fully loaded before executing the code
      document.addEventListener("DOMContentLoaded", function() {
        let resultsElement = document.getElementById("results");

        // Iterate over the data array
        for (let i = 0; i < data.length; i++) {
          let articleTitle = data[i].title;
          let pageId = data[i].page_id;
          let createdAt = new Date(data[i].creation_date);

          // Define options for formatting the date
          let options = { year: 'numeric', month: 'long', day: 'numeric' };
          
          // Format the date using the user's browser settings
          let formattedDate = createdAt.toLocaleDateString(undefined, options);

          // Create the result text with the formatted date
          let resultText = 'The article "' + articleTitle + '" (Page ID ' + pageId + ') was created on ' + formattedDate + '.';
          let resultElement = document.createElement("p");
          resultElement.innerText = resultText;
          
          // Append the result element to the results container
          resultsElement.appendChild(resultElement);
        }
      });

      // Display the code snippet on the webpage for reference
      document.getElementById("code").innerText = document.getElementById("task_id").text;
    </script>
  </body>
</html>
